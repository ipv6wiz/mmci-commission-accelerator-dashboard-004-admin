<div class="mat-elevation-z8">
<div class="row">
  <div class="col"><h3>Client Verification Data</h3></div>
  <div class="col"></div>
  <div class="col">
    <button type="button" class="btn btn-primary" style="margin-bottom: 10px; float: right" (click)="refreshVerifcationData()">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16">
        <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"/>
        <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"/>
      </svg>
      Refresh Verification Data
    </button>
  </div>
</div>
@if(loadingVerification) {
  <section class="verification-load-spinner-section">
    <h3>Loading Verification Data</h3>
    <mat-progress-spinner
      class="verification-load-spinner-margin"
      [color]="loadSpinnerColor"
      [mode]="loadSpinnerMode"
      [diameter]="loadSpinnerDiameter"
    ></mat-progress-spinner>
  </section>
} @else{
<mat-accordion>
  <mat-expansion-panel hideToggle="true" style="background-color: black; ">
    <mat-expansion-panel-header >
      <mat-panel-title>
        <span style="color: white">Verification Data</span>
      </mat-panel-title>
      <mat-panel-description>
        <div class="row">
          <div class="col"><span style="color: white">Result</span></div>
          <div class="col"><span style="color: white">Actions</span></div>
        </div>

      </mat-panel-description>
    </mat-expansion-panel-header>
  </mat-expansion-panel>
  @for (item of verifyDataSource; track $index) {
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <h4 class="verification-accord-h4">{{ item.key | cleanVerifyItemName}}</h4>
        </mat-panel-title>
        <mat-panel-description>
          <div class="row">
            <div class="col">
              <i
                class="bi {{verifyStatus[item.value['status']].icon}}"
                [style.color]="verifyStatus[item.value['status']].iconColor"
                [style.font-size]="'1.5rem'"
                [matTooltip]="verifyStatus[item.value['status']].hint"
                matTooltipPosition="left"
              ></i>
            </div>
            <div class="col"></div>
          </div>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <section>
        <div class="row">
          <table class="verifyDataTable">
            <tr>
              <td style="width: 25%">
                Research Data
              </td>
              <td>
                {{item.value['researchData']['data']}}
              </td>
            </tr>
            <tr>
              <td style="width: 25%">
                Client Entered Data
              </td>
              <td>
                {{item.value['clientEnteredData']['data']}}
              </td>
            </tr>
          </table>
        </div>
      </section>
    </mat-expansion-panel>
  }
</mat-accordion>
}
</div>
